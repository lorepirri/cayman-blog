---
layout: post
title: "Hooks, hooks everywhere"
tagline: "Integrating git hooks in your project"
author: "Victor de Francisco"
---

Maybe sometime you have thought about the chance to make some taks within your `git` actions. For example you missed a chance to check if some files have been modified in a commit, or maybe some crazy night you imagine that unit tests were executed before each push to the remote...

Well, that night was nearer than you though. We can use `git` hooks to do such kind of things. In a few words, you can take action on every operation `git` performs during its use, that is, you can be a kind of man in the middle executing whatever you want in every phase of the `git` flow.

Please, in order to know about `git` hooks internals, check out [Customizing Git - Git Hooks][git-hooks] or [What are Git hooks?][git-hooks-extended]


### Lets see some code

Git hides its magic in the `.git` folder. There you can find a `hooks` folder with a lot of `.sample` files, those are the `git` hooks, each of one is ready to be executed on a git stage, that matches the filename.

```
.git/
  branches/
  config
  description
  HEAD
  hooks/
  	applypatch-msg.sample
  	commit-msg.sample
  	post-update.sample
  	pre-applypatch.sample
  	pre-commit.sample
  	prepare-commit-msg.sample
  	pre-push.sample
  	pre-rebase.sample
  	pre-receive.sample
  	update.sample
  index
  info/
  logs/
  objects/
  packed-refs
  refs/
```


Taking a look on each of those files you can have a first idea of how they work. They are all scripts that execute some kind of task.

>
> Git hook files are scripts, so hook environment 
> supports anything that your system knows how to execute
>


Recap, in order to execute custom tasks (check about changes in some files before commit, execute tests before push, for example), you should only have to implement in some script language those tasks, include them in the right hook file and should work.

Don't forget to remove the `.sample` extension of the used hook files, and see what happens (also be sure about execution permissions)

### Can we track hook files on the `git` repository?

Wait, track in `git` files part of the `git` ecosystem? Doesn't explode everything?

Well, answer is no but those file can not be easily tracked by `git` because they are inside the `.git` folder, so the are hidden.

There are some solutions you can find on internet, they are almost related to create a folder outside the `.git` folder, in the root of the project and save hook files there. But, as `git`


[git-hooks]: https://git-scm.com/book/gr/v2/Customizing-Git-Git-Hooks
[git-hooks-extended]: http://githooks.com/